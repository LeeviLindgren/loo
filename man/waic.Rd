% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/waic.R
\name{waic}
\alias{waic}
\alias{waic.array}
\alias{waic.matrix}
\alias{waic.function}
\title{Widely applicable information criterion (WAIC)}
\usage{
waic(x, ...)

\method{waic}{array}(x, ...)

\method{waic}{matrix}(x, ...)

\method{waic}{function}(x, args, ...)
}
\arguments{
\item{x}{A log-likelihood array, matrix, or function. See the \strong{Methods
(by class)} section below for a detailed description of how to specify
\code{x}.}

\item{...}{Currently ignored.}

\item{args}{Only required if \code{x} is a function. A list containing
the data required to specify the arguments to the function. See the
\strong{Methods (by class)} section below for how \code{args} should be
specified.}
}
\value{
A named list (of class \code{c("waic", "loo")}) with components:

\describe{
 \item{\code{estimates}}{
 A matrix with two columns (\code{"Estimate"}, \code{"SE"}) and three
 rows (\code{"elpd_waic"}, \code{"p_waic"}, \code{"waic"}). This contains
 point estimates and standard errors of the expected log pointwise predictive
 density (\code{elpd_waic}), the effective number of parameters
 (\code{p_waic}) and the LOO information criterion \code{waic} (which is just
 \code{-2 * elpd_waic}, i.e., converted to deviance scale).
 }
 \item{\code{pointwise}}{
 A matrix with three columns (and number of rows equal to the number of
 observations) containing the pointwise contributions of each of the above
 measures (\code{elpd_waic}, \code{p_waic}, \code{waic}).
 }
}
}
\description{
Widely applicable information criterion (WAIC)
}
\section{Methods (by class)}{
\itemize{
\item \code{array}: An \eqn{I} by \eqn{C} by \eqn{N} array, where \eqn{I}
is the number of MCMC iterations per chain, \eqn{C} is the number of
chains, and \eqn{N} is the number of data points. For example, the object
returned by \code{\link{extract_log_lik}(stanfit, merge_chains = FALSE)}.

\item \code{matrix}: An \eqn{S} by \eqn{N} matrix, where \eqn{S} is the size
of the posterior sample (with all chains merged) and \eqn{N} is the number
of data points. For example, the object returned by
\code{\link{extract_log_lik}(stanfit, merge_chains = TRUE)}.

\item \code{function}: A function \eqn{f} that takes arguments \code{i},
  \code{data}, and \code{draws} and returns a vector containing the
  log-likelihood for the \code{i}th observation evaluated at each posterior
  draw.

 The \code{args} argument must also be specified and should be a named list
 with the following components:
 \itemize{
   \item \code{draws}: An object containing the posterior draws for any
   parameters needed to compute the pointwise log-likelihood.
   \item \code{data}: An object containing data (e.g. observed outcome and
   predictors) needed to compute the pointwise log-likelihood. \code{data}
   should be in an appropriate form so that \eqn{f}\code{(i=i,
   data=data[i,,drop=FALSE], draws=draws)} returns the \code{S}-vector of
   log-likelihoods for the \code{i}th observation.
   \item \code{N}: The number of observations.
   \item \code{S}: The size of the posterior sample.
 }
}}

\examples{
\dontrun{
log_lik1 <- extract_log_lik(stanfit1)
log_lik2 <- extract_log_lik(stanfit2)
(waic1 <- waic(log_lik1))
(waic2 <- waic(log_lik2))
print(compare(waic1, waic2), digits = 2)
}

}
\seealso{
\code{\link{compare}}, \code{\link{print.loo}},
\code{\link{loo-package}}
}
