% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bb-stacking.R
\name{stacking_weight}
\alias{stacking_weight}
\title{Stacking of predictive distributions}
\usage{
stacking_weight(lpd_point, optim_method = "BFGS")
}
\arguments{
\item{lpd_point}{A  matrix of pointwise leave-one-out likelihood evaluated in different models. Each column corresponds to one model.}

\item{optim_method}{The optimization methoded to be used in stacking; it can be chosen from "Nelder-Mead", "BFGS", "CG", "L-BFGS-B", "SANN" and "Brent". The default one is "BFGS".}
}
\value{
A vector of best model weights that minimize the levae-one-out log score.
}
\description{
Stacking of predictive distributions
}
\details{
\code{lpd_point} is a matrix of pointwise log leave-one-out likelihood, which can be calculeted from  \code{\link{loo}}. It should be a \eqn{N} by \eqn{K}  matrix when Sample size is \eqn{N} and model number is \eqn{K}. \code{stacking} is an approach that finds the optimal linear combining weight so as to minimize the leave-one-out log score. To reduce the variance in small sample, we can further sample a Bayesian Bootstrap weights (each data weight is between 0 and 1) for each data point and solve the weighted version of the optimazation. Finally, we take average over all Bayesian Bootstrap samples and obtain the final model weights.
}
\examples{
\dontrun{
loo1 <- loo(log_lik1)$pointwise[,1]
loo2 <- loo(log_lik2)$pointwise[,1]
stacking_weight(cbind(loo1, loo2))
}
}
\seealso{
\code{\link{loo}} for details on leave-one-out elpd estimation.

\code{\link{peudobma_weight}} for model weighting by peudo-BMA and Bayesian bootstrap adjustment.

\code{\link{optim}} for the choice of optimization methods.
}
