% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/bb-stacking.R
\name{Combine}
\alias{Combine}
\title{Model averaging via stacking and loo weighting}
\usage{
Combine(log_lik_list, method, BB = "Ture", BB_n = 1000, alpha = 1,
  seed = NULL)
}
\arguments{
\item{log_lik_list}{A list of pointwise log likelihood simlation matrixs. The \eqn{i} th element corresponds to the \eqn{i} th model. Each row of the matrix is the log likelihood evaluted using a simulated paramter.}

\item{method}{One of  \code{"stacking"} or \code{"loo"} indicating which method is to use in obtaining the optimal weights.}

\item{BB}{Logicals used in method \code{"loo"}. If \code{Ture}(defalt), Bayesian Bootstrap will be used to adjust the LOO estimator. It helps regularize the weight away from 0 and 1, so as to reduce the variance.}

\item{BB_n}{A positivs integer indicating the number of samples in Bayesian Bootstrap. It is necessary when \code{method}=\code{"loo"} and \code{BB}=\code{Ture}. The  default number is 1000.}

\item{alpha}{A postive scaler; the shape paramter in the Dirichlet distribution when doing Bootstrap.}

\item{seed}{An integer; optional. If specified, it will fix the random seed when dong Bayesian Bootstrap.}
}
\value{
A vector of optimal model weights.
}
\description{
Model averaging via stacking and loo weighting
}
\details{
This function implements  \code{stacking} and \code{loo} weighting  for combining multiple predictive distributions. In either method, we can use  Leave-one-out cross-validation (LOO) to estimate the expected log predictive density(elpd).  \code{stacking}  finds the optimal linear weight in combining elpd. \code{loo} finds the relative weights proportional to elpd. However, this estimation doesnâ€™t take into account the uncertainty resulted from having a finite number of proxy samples from the future data distribution. By Bayesian bootstrap, we can take into account the uncertainty and regularize the weights making them go further away from 0 and 1.
}
\examples{
\dontrun{
log_lik1 <- extract(stan(model=model_1,data=data))[['log_lik']]
log_lik2 <- extract(stan(model=model_1,data=data))[['log_lik']]
w1=combine(list(log_lik1, log_lik2),method="stacking")
w2=combine(list(log_lik1, log_lik2),method="loo",BB=T)
}

}
\seealso{
\code{\link{Select}} for single-model selection.

\code{\link{bb_weight}} for details on Bayesian Bootstrap adjustment.
}
